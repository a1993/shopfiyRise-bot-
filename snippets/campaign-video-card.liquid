{% comment %}
  Campaign Video Card Snippet
  视频卡片组件，点击打开弹窗播放视频
  
  参数说明:
  - video_cover: 视频封面图片对象 (required)
  - video_url: 视频URL (YouTube/Vimeo) (required)
  - alt_text: 图片描述 (optional)
  - width: 图片宽度 (optional, default: 600)
  - show_play_button: 是否显示播放按钮 (optional, default: true)
  
  使用示例:
  {% render 'campaign-video-card',
    video_cover: section.settings.video_cover,
    video_url: 'https://www.youtube.com/embed/yU5rx9U_Os8',
    alt_text: 'Product Video'
  %}
{% endcomment %}

{%- liquid
  assign img_width = width | default: 600
  assign show_play = show_play_button | default: true
  assign alt = alt_text | default: 'Video'
-%}

<div class="campaign-video-card" data-video-url="{{ video_url }}">
  <div class="campaign-video-card__cover">
    {%- if video_cover != blank -%}
      {{
        video_cover
        | image_url: width: img_width
        | image_tag:
          loading: 'lazy',
          alt: alt,
          class: 'campaign-video-card__image'
      }}
    {%- else -%}
      <div class="campaign-video-card__placeholder">
        {{ 'lifestyle-1' | placeholder_svg_tag }}
      </div>
    {%- endif -%}

    {%- if show_play -%}
      <div class="campaign-video-card__play-btn">
        <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="30" cy="30" r="30" fill="rgba(0,0,0,0.7)"/>
          <path d="M23 18L41 30L23 42V18Z" fill="white"/>
        </svg>
      </div>
    {%- endif -%}
  </div>
</div>

<style>
  .campaign-video-card {
    position: relative;
    cursor: pointer;
    border-radius: 15px;
    overflow: hidden;
    transition: transform 0.3s ease;
  }

  .campaign-video-card:hover {
    transform: scale(1.02);
  }

  .campaign-video-card__cover {
    position: relative;
    width: 100%;
  }

  .campaign-video-card__image {
    width: 100%;
    height: auto;
    display: block;
  }

  .campaign-video-card__placeholder {
    width: 100%;
    padding-bottom: 56.25%; /* 16:9 */
    background: #f5f5f5;
    position: relative;
  }

  .campaign-video-card__placeholder svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60%;
    height: 60%;
  }

  .campaign-video-card__play-btn {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: transform 0.3s ease;
    pointer-events: none;
  }

  .campaign-video-card:hover .campaign-video-card__play-btn {
    transform: translate(-50%, -50%) scale(1.1);
  }

  @media screen and (max-width: 768px) {
    .campaign-video-card__play-btn svg {
      width: 50px;
      height: 50px;
    }
  }
</style>

